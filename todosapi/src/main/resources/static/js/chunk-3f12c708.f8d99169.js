(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f12c708"],{"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),o=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(t){return!!~o(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(o){}}return!0}},6762:function(t,e,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"75cf":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._m(0),n("form",[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.todostring,expression:"todostring"}],attrs:{type:"text"},domProps:{value:t.todostring},on:{input:function(e){e.target.composing||(t.todostring=e.target.value)}}}),n("button",{on:{click:function(e){return t.saveTodo()}}},[t._v("Add")])])]),t._l(t.content,(function(e){return n("div",{key:e.id},[n("button",{staticClass:"btn-primary",attrs:{type:"submit",id:e.id},on:{click:function(e){return t.changeCompleted(e)}}},[t._v("Done")]),n("input",{staticClass:"form",class:e.completed&&"completed",attrs:{disabled:!(t.isAdmin||t.isModerator),type:"text",id:e.id},domProps:{value:e.text},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.edit(e)}}}),n("button",{staticClass:"btn-primary",attrs:{type:"submit",disabled:!t.isAdmin,id:e.id},on:{click:function(e){return t.deleteTodo(e)}}},[t._v("X")])])}))],2)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"jumbotron"},[n("h3",[t._v("Todos")])])}],i=(n("6b54"),n("6762"),n("2fdb"),n("d225")),s=n("b0b4"),c=n("bc3a"),a=n.n(c);function u(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.accessToken?{Authorization:"Bearer "+t.accessToken}:{}}var d="http://localhost:8080/todos/",l=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,[{key:"getUserBoard",value:function(){return a.a.get(d,{headers:u()})}},{key:"postTodo",value:function(t){return a.a.post(d+"add",{text:t})}},{key:"deleteTodo",value:function(t){return a.a.delete(d+t)}},{key:"changeTodoStatus",value:function(t){return a.a.put(d+t)}},{key:"editTodo",value:function(t,e){return a.a.put(d+t+"/edit",{text:e})}}]),t}(),f=new l,h={name:"Todos",data:function(){return{content:[],todostring:"",id:null,editString:""}},computed:{currentUser:function(){return this.$store.state.auth.user},isAdmin:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")},isModerator:function(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_MODERATOR")}},methods:{saveTodo:function(){f.postTodo(this.todostring)},deleteTodo:function(){this.id=event.currentTarget.id,f.deleteTodo(this.id),this.reloadPage()},changeCompleted:function(){this.id=event.currentTarget.id,f.changeTodoStatus(this.id),this.reloadPage()},edit:function(){this.id=event.currentTarget.id,this.editString=event.currentTarget.value,f.editTodo(this.id,this.editString),this.reloadPage()},reloadPage:function(){window.location.reload()}},mounted:function(){var t=this;f.getUserBoard().then((function(e){t.content=e.data}),(function(e){t.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}},p=h,v=(n("c375"),n("2877")),g=Object(v["a"])(p,r,o,!1,null,"13669a4c",null);e["default"]=g.exports},aae3:function(t,e,n){var r=n("d3f4"),o=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},c2cb:function(t,e,n){},c375:function(t,e,n){"use strict";var r=n("c2cb"),o=n.n(r);o.a},d2c8:function(t,e,n){var r=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}}}]);
//# sourceMappingURL=chunk-3f12c708.f8d99169.js.map